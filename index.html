<!doctype html>
<html>
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">

    <title>Command-Line Geography</title>

    <link rel="stylesheet" href="css/reveal.css">
    <link rel="stylesheet" href="css/theme/custom.css">

    <!-- Theme used for syntax highlighting of code -->
    <link rel="stylesheet" href="lib/css/zenburn.css">

    <!-- Printing and PDF exports -->
    <script>
      var link = document.createElement( 'link' );
      link.rel = 'stylesheet';
      link.type = 'text/css';
      link.href = window.location.search.match( /print-pdf/gi ) ? 'css/print/pdf.css' : 'css/print/paper.css';
      document.getElementsByTagName( 'head' )[0].appendChild( link );
    </script>
  </head>
  <body>
    <div class="reveal">
      <div class="slides">
        <section>
          <h1>Command-Line Geography</h1>
        </section>
        <section>
          <p>
            Hi, I'm Erik :) ðŸ‘‹
          </p>
        </section>
        <section>
          <p>
            github, twitter: @nerik
          </p>
        </section>
        <section>
          <img src="img/vizz_logo.png" alt="">
          <p>
            I live in Madrid and I'm an engineer at Vizzuality.
          </p>
        </section>
        <section>
          <p>
            Vizzuality builds amazing mapping and viz projects, essentially for NGOs.
          </p>
        </section>
        <section>
          <img src="img/vizz1.png" alt="">
        </section>
        <section>
          <img src="img/vizz2.png" alt="">
        </section>
        <section>
          <p>
            We mostly have a <b>web-based</b> approach to GIS.
          </p>
          <p class="fragment fade-in">
            <b>Leaflet, D3, Carto(DB).js, PostGIS...</b>
          </p>
          <p class="fragment fade-in">
            React, Redux, Backbone, Webpack...
          </p>
          <p class="fragment fade-in">
            Ruby on Rails, Python, Postgre...
          </p>
        </section>
        <section>
          <p>
            Aaaaaand we are <blink>
              <b>recruiting</b>
            </blink> !
          </p>
          <img src="img/wanted.gif" alt="" />
        </section>
        <section>
          <p>So, I'm a front-end engineer</p>
        </section>
        <section>
          <img src="img/erik.jpg" alt="" />
          <aside class="notes">
            I had an early interest in maps but somehow got lost in geeking
          </aside>
        </section>
        <section>
          <img src="img/books.jpg" alt="" />
          <aside class="notes">
            And even though I'm buying a lot of books to catch up (I said buying, not necessarily reading)
          </aside>
        </section>
        <section>
          <img src="img/impostor.jpg" alt="" />
          <aside class="notes">
            this is how I feel when talking at FOSS4G, like an usurper
          </aside>
        </section>

        <section>
          <img style="background: white" src="img/foss4g.png" alt="" />
          <aside class="notes">
            but aren't we "building bridges" here?
          </aside>
        </section>

        <section>
          <img src="img/over-engineering.png" class="stretch">
          <small class="caption"><a href="http://www.xkcd.com/">xkcd</a></small>
          <aside class="notes">
            Sometimes as a dev you get caught getting more interested in the tooling, in the process of making instead of the actual thing you're trying to make
          </aside>
        </section>

        <section>
          <p>Summary:</p>
          <ul>
            <li>tools of the trade</li>
            <li>a starter kit</li>
            <li>CARTO on the command line</li>
            <li>Atom for webmapping</li>
            <li>geocoding</li>
            <li>bonus track: emoji maps</li>
            <li>goodies</li>
          </ul>
        </section>

        <section>
          <h2>Tools of the trade</h2>
        </section>

        <section>
          <h3>Carto(DB)</h3>
        </section>

        <section>
          <img src="img/carto1.gif" alt="" />
        </section>

        <section>
          <img src="img/carto2.gif" alt="" />
        </section>

        <section>
          <h4>Define Carto:</h4>
          <blockquote>
            Empower organizations to optimize operational performance, strategic investments, and everyday decisions with CARTO Engine
          </blockquote>
          <blockquote>
            Improve customer satisfaction by 15%
          </blockquote>
          <aside class="notes">
            Carto is aiming its marketing discourse at "decision makers", and therefore may or may not convince you as a GIS professional or engineer
          </aside>
        </section>

        <section>
          <img src="img/fry.jpg" alt="" />
          <aside class="notes">
            But besides that it's frankly quite an incredible platform
          </aside>
        </section>

        <section>
          <h4>Carto is basically:</h4>
          <ul>
            <li class="fragment fade-in">a PaaS Postgres/PostGIS instance</li>
            <li class="fragment fade-in">a <b>supercharged</b> Postgres/PostGIS instance: geocoding, routing, basemaps, curated open datasets...</li>
            <li class="fragment fade-in">a set of REST APIs</li>
            <li class="fragment fade-in">a semi-WYSIWYG GIS piece of software (the <b>Builder</b>)</li>
          </ul>

        </section>

        <section>
          <h4>Why Carto?</h4>
          <ul>
            <li class="fragment fade-in">kind learning curve</li>
            <li class="fragment fade-in">1-stop-shop</li>
            <li class="fragment fade-in">serves as a cheap and convenient back-office (downside: you need connectivity)</li>
            <li class="fragment fade-in">the Builder is amazing for prototyping</li>
          </ul>
        </section>

        <section>
          <p>Disclaimer: I previously worked at Carto</p>
          <p class="fragment fade-in">Disclaimer 2 / fun fact: Carto(DB) is originally a Vizzuality spin-off</p>
        </section>


        <section>
          <h3>Tools of the trade: Atom</h3>
        </section>

        <section>
          <img src="img/atom_screen.gif" alt="">
          <aside class="notes">
            What would solely be a nice text editor...
          </aside>
        </section>

        <section>
          <img src="img/atom_webdev.gif" alt="">
          <p>Chrome + Electron</p>
          <aside class="notes">
            becomes awesome because it is built on top of Chrome + Electron.
            Extending this IDE is a frontender paradise.
          </aside>
        </section>

        <section>
          <img src="img/atom_comic.gif" alt="">
          <p>Chrome + Electron</p>
          <aside class="notes">
            is it cool? think so. is it useful? meh
          </aside>
        </section>

        <section>
          <h3>Tools of the trade: a shell and a terminal</h3>
          <img src="img/soupe.jpg" alt="">
          <aside class="notes">
            the best soup is made in old pots
            coming from a more abstract programming background,
            rediscovering old tricks alwyas feels great
          </aside>
        </section>

        <section>
          <h4>Namely:</h4>
          <ul>
            <li>zsh</li>
            <li>oh-my-zsh</li>
            <li>iTerm 2</li>
            <li>node.js, npm, python, etc...</li>
            <li><i>bonus: the Input Mono font</i></li>
          </ul>
        </section>

        <section>
          <img src="img/figlet.gif" alt="">
          <aside class="notes">
            figlet/figlet-cli
          </aside>
        </section>


        <section>
          <h2>a starter kit</h2>
        </section>

        <section>
          <blockquote>Â«A beginning is a very delicate timeÂ»</blockquote>
          <img src="img/irulan.gif">
          <aside class="notes">
            At vizzuality we need to make quick prototypes without thinking too much about the toolchain
          </aside>
        </section>

        <section>
          <p>Enter</p>
          <img src="img/yeoman.png" alt="">
        </section>

        <section>
          <p>Yeoman + Carto</p>
          <pre class="fragment current-visible"><code>
$ npm i -g yo generator-cartodb
$ yo cartodb
          </code></pre>
          <pre class="fragment fade-in"><code data-noescape>
$ <s>sudo</s> npm i -g yo generator-cartodb
$ <s>sudo</s> yo cartodb
          </code></pre>
          <aside class="notes">
            note: installing NPM modules is arguably a bad practice.
            Except when it makes sense, like here (because you don't have run npm init yet, so no binaries can be available)
            you should not have to sudo to install NPM modules, even globally
            <a href="https://github.com/sindresorhus/guides/blob/master/npm-global-without-sudo.md">see here</a>
          </aside>
        </section>

        <section>
          <img src="img/yo1.gif">
        </section>

        <section>
          <h4>local server</h4>
          <img src="img/yo2.gif">
        </section>

        <section>
          <h4>liveReload</h4>
          <img src="img/yo3.gif">
        </section>

        <section>
          <h4>eslint</h4>
          <img src="img/yo4.gif">
        </section>

        <section>
          <h3>a prototyping toolchain</h3>
          <p>
            Uses NPM as a task runner<br> (add gulp or grunt as you go)
          </p>
          <p>
            Uses cat to bundle JS <br>(use webpack or browserify as you go)
          </p>
          <p>
            <b>Tries to be a compromise between too simple and overly complicated toolchains</b>
             (1000 lines gulpfiles, obscure webpack config, etc)
          </p>

        </section>



        <section>
          <h2>CARTO on the command line</h2>
        </section>

        <section>
          <img class="fragment current-visible" src="img/carto-apis.png" alt="">
          <img class="fragment current-visible" src="img/carto-apis2.png" alt="">
          <img class="fragment current-visible" src="img/carto-apis3.png" alt="">
          <img class="fragment current-visible" src="img/carto-apis4.png" alt="">
        </section>


        <section>
          <h3>CARTO API clients</h3>
          <ul>
            <li>Python</li>
            <li>Ruby</li>
            <li>Node.js</li>
          </ul>
        </section>

        <section>
          <h3>Python</h3>
          <img src="img/carto-python.png" alt="">
          <ul>
            <li>SQL and Import APIs</li>
            <li>The "official" client</li>
            <li>Has one contributor inside CARTO (Dani Carrion)</li>
          </ul>
        </section>

        <section>
          <h3>Ruby</h3>
          <img src="img/carto-ruby.png" alt="">
          <ul>
            <li>Deprecated Â¯\_(ãƒ„)_/Â¯</li>
          </ul>
        </section>

        <section>
          <h3>Node.js</h3>
          <img src="img/carto-node.png" alt="">
          <ul>
            <li>SQL and Import APIs</li>
            <li>Named maps API</li>
            <li><b>CLI access</b></li>
          </ul>
        </section>

        <section>
          <h3>SQL API</h3>
        </section>

        <section>
          <img src="img/node1.png" alt="">
        </section>

        <section>
          <h4>a simple select (JSON)</h4>
          <img src="img/node2.png" alt="">
        </section>

        <section>
          <h3>CSV + CSVKit</h3>
        </section>

        <section>
          <h4>the -f (--format) option</h4>
          <img src="img/node3.png" alt="">
        </section>
        <section>
          <h4>CSVKIT: csvlook</h4>
          <img src="img/node4.png" alt="">
        </section>
        <section>
          <h4>CSVKIT: csvcut, csvstat</h4>
          <img src="img/node45.png" alt="">
        </section>

        <section>
          <h3>GeoJSON + geojson.io</h3>
        </section>

        <section>
          <h4>GeoJSON output</h4>
          <img src="img/node5.png" alt="">
        </section>
        <section>
          <h4>piping to geojsonio</h4>
          <img src="img/node6.png" alt="">
        </section>
        <section>
          <img src="img/node7.png" alt="">
        </section>

        <section>
          <h3>Authenticated queries</h3>
        </section>

        <section>
          <h4>username (-u) not enough for write ops</h4>
          <img src="img/node8.png" alt="">
        </section>

        <section>
          <h4>specify api key (-a / --api_key)</h4>
          <img src="img/node9.png" alt="">
        </section>

        <section>
          <img src="img/node10.png" alt="">
        </section>

        <section>
          <h2>Import API</h2>
        </section>


        <section>
          <h4>shapefile -> carto</h4>
          <img src="img/node-import.gif" alt="">
        </section>
        <section>
          <h4>--url</h4>
          <img src="img/node12.png" alt="">
        </section>



        <section>
          <h2 class="fragment current-visible">Atom for GIS</h2>
          <h2 class="fragment current-visible"><s>Atom for GIS</s><br>Atom for webmapping</h2>
        </section>




        <section>
          <h3>APM</h3>
          <p>Yay! An integrated package manager! (merely an NPM wrapper, actually)</p>
          <pre class="fragment"><code>
$ apm install linter
$ apm install highlight-selected
$ apm install emmet
$ apm install pretty-json
$ apm install pigments
$ apm install color-picker
$ apm install language-carto
$ apm install carto-api
          </code></pre>
        </section>

        <section>
          <h4>linter</h4>
          <img src="img/yo4.gif">
        </section>

        <section>
          <h4>highlight-selected</h4>
          <img src="img/apm1.gif">
        </section>

        <section>
          <h4>emmet</h4>
          <img src="img/apm4.gif">
        </section>

        <section>
          <h4>color-picker</h4>
          <img src="img/apm2.gif">
        </section>

        <section>
          <h4>pigments</h4>
          <img src="img/apm3.gif">
        </section>

        <section>
          <h4>language-carto</h4>
          <img src="img/apm6.png">
        </section>

        <section>
          <h3>Remember CARTO APIS? Now in Atom!</h3>
        </section>

        <section>
          <h4>run a SQL query, get some CSV</h4>
          <img src="img/atom1.gif" alt="">
        </section>

        <section>
          <h4>let's feed some GeoJSON to L</h4>
          <img src="img/atom2.gif" alt="">
        </section>

        <section>
          <h4>and some SVG, because why not</h4>
          <img src="img/atom3.gif" alt="">
        </section>

        <section>
          <h4>file import from the tree view</h4>
          <img src="img/atom-import.gif" alt="">
        </section>

        <section>
          <h4>Improve customer satisfaction by 15% !</h4>
          <img style="background: white" src="img/customer.png" alt="">
        </section>

        <section>
          <h3>apm install carto-api</h3>
          PRs and insults -> @nerik
        </section>



        <section>
          <h2>geocoding</h2>
        </section>

        <section>
          <h4>CARTO provides geocoding<br><b>for various entities, points and polys</b></h4>
          <img src="img/geocoding.gif" alt="">
        </section>

        <section>
          <h4>CARTO provides geocoding and routing <br><b>at SQL level</b></h4>
          <img src="img/geocoding0.png" alt="">
        </section>

        <section>
          <h4>which means, also in your shell :)</h4>
          <img src="img/geocoding1.gif" alt="">
        </section>
        <section>
          <h4>street-level</h4>
          <img src="img/geocoding2.gif" alt="">
        </section>
        <section>
          <h4>carto-geocode-sql</h4>
          <img src="img/geocoding3.gif" alt="">
        </section>
        <section>
          <h4>carto-geocode-sql</h4>
          <img src="img/geocoding4.gif" alt="">
        </section>
        <section>
          <h4>mÃ¶tley crÃ¼e geocoding</h4>
          <img src="img/geocoding5.gif" alt="">
        </section>

        <section>
          <h4>mÃ¶tley crÃ¼e geocoding</h4>
          <img src="img/geocoding5.gif" alt="">
        </section>

        <section>
          <h4>geocoding in Atom</h4>
          <img src="img/atom-geocode.gif" alt="">
        </section>





        <section>
          <h2>bonus track: emoji maps</h2>
        </section>


        <section>
          <h4>gj2ascii</h4>
          <p>"Render spatial vector data as ASCII or emoji with Python on the commandline."</p>
        </section>

        <section>
          <img src="img/gj1.png" alt="">
        </section>
        <section>
          <img src="img/gj2.png" alt="">
        </section>
        <section>
          <h4>heed the "-" !</h4>
          <img src="img/gj3.png" alt="">
        </section>
        <section data-background-size="contain" data-background-image="img/gj4.png" >
        </section>

        <section>
          <h2>goodies</h2>
        </section>


        <section>

          <img src="img/wanted2.gif" alt="" />
        </section>

        <section>

          <h1>Thanks !</h1>
          <p>@nerik</p>
          <em>soundtrack: Ibrahim Ferrer, Ã“lafur Arnalds, Jordi Savall, The Cure, Bill Withers</em>
        </section>


      </div>
    </div>




    <script src="lib/js/head.min.js"></script>
    <script src="js/reveal.js"></script>

    <script>
      // More info https://github.com/hakimel/reveal.js#configuration
      Reveal.initialize({
        history: true,
        controls: false,
        transitionSpeed: 'fast',
        margin: 0.05,

        // More info https://github.com/hakimel/reveal.js#dependencies
        dependencies: [
          { src: 'plugin/markdown/marked.js' },
          { src: 'plugin/markdown/markdown.js' },
          { src: 'plugin/notes/notes.js', async: true },
          { src: 'plugin/highlight/highlight.js', async: true, callback: function() { hljs.initHighlightingOnLoad(); } }
        ]
      });
    </script>
  </body>
</html>
